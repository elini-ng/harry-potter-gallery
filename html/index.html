<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Harry Potter</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <div id="mainPage">
    <div id="menuArea">
        <a href="">About</a>
        <a href="">Feature</a>
        <a href="">Portfolio</a>
        <a href="">Contact</a>
    </div>
    <div id="introArea" class="centerText">
        <h2>Welcome to Harry Potter Gallery</h2>
        <h1>Are you ready to enter wizarding world?</h1>
        <h3>
            Step into Diagon Alley and shop your stuff
            <img class="imgInText" src="../img/intro_magicstuff.jpg" alt=""><br>
            Hop on Hogwarts Express
            <img class="imgInText" src="../img/intro_hogexp_train.jpg" alt="">
            at platform 9<sup>3/4</sup>
            <img class="imgInText" src="../img/intro_hogexp_platform.jpg" alt=""><br>
            Get sorted to your house by sorting hat
            <img class="imgInText" src="../img/intro_sortinghat.jpg" alt=""><br>
            Visit Hogsmeade and get yourself a glass of butter beer
            <img class="imgInText" src="../img/intro_butterbeer.jpg" alt=""><br>
            And also don't miss Quidditch match!
            <img class="imgInText" src="../img/intro_broomstick.jpg" alt="">
        </h3>
    </div>
    </div>

    <div id="galleryArea" class="centerText">
        <h1>Harry Potter Gallery</h1>
        <div id="imageList">
        </div>
    </div>

    <script>
        const imgPath="../img/";

        fetch(imgPath + "img_list.txt")
        .then(r=>r.text())
        .then(text => {
            imgArr = text.split("\n");

            for(var i = 0; i<imgArr.length; i++) {
                imageName = "img" + i;
                const imgList = document.createElement('img');
                imgList.src = imgPath + imgArr[i];
                imgList.setAttribute("alt","");
                imgList.setAttribute("id",imgArr[i]);
                imgList.setAttribute("class","imgThumbnail");
                imageList.appendChild(imgList);

                imgList.addEventListener('click', function(e) {
                    const boxElement = document.createElement('div');
                    boxElement.setAttribute("id","imgBox");
                    boxElement.setAttribute("class","boxPopUp");
                    galleryArea.appendChild(boxElement);

                    const xButton = document.createElement('button');
                    xButton.setAttribute("id","xButton");
                    xButton.textContent  = "x";

                    var body = document.getElementsByTagName('body')[0];

                    xButton.addEventListener('click', function(e) {
                        boxElement.parentNode.removeChild(boxElement);
                        body.style.overflow = '';
                    });

                    imgBox.appendChild(xButton);

                    const imgElement = document.createElement('img');
                    imgElement.src = imgPath + e.srcElement.id;
                    imgElement.setAttribute("alt","");
                    imgElement.setAttribute("class","imgBig");
                    imgBox.appendChild(imgElement);

                    body.style.overflow = 'hidden';
                });
            }
        })
    </script>
</body>
</html>